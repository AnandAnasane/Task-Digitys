<!-- app.component.html -->
<div class="container-fluid" [ngClass]="{'dark-mode': darkMode}">
  <div class="d-flex">

    <!-- Sidebar (Large Screens) -->
    <div class="d-none d-lg-block bg-light p-3" style="height: 100vh; width: 250px;">
      <h4 class="text-center">GRC Dashboard</h4>
      <hr>
      <div class="nav flex-column nav-pills" id="sidebarMenu">
        <a routerLink="/dashboard" routerLinkActive="active bg-primary text-white" class="nav-link mb-2">
          <i class="fa-solid fa-square-poll-vertical me-2"></i> Dashboard
        </a>
        <a routerLink="/risk-overview" routerLinkActive="active bg-primary text-white" class="nav-link mb-2">
          <i class="fa-solid fa-arrow-trend-up me-2"></i> Risk Overview
        </a>
        <a routerLink="/security-alerts" routerLinkActive="active bg-primary text-white" class="nav-link mb-2">
          <i class="fa-solid fa-bell me-2"></i> Security Alerts
        </a>
        <a routerLink="/compliance-status" routerLinkActive="active bg-primary text-white" class="nav-link mb-2">
          <i class="fa-solid fa-wallet me-2"></i> Compliance Status
        </a>
        <a routerLink="/reports" routerLinkActive="active bg-primary text-white" class="nav-link mb-2">
          <i class="fa-regular fa-file me-2"></i> Reports
        </a>
        <a routerLink="/settings" routerLinkActive="active bg-primary text-white" class="nav-link mb-2">
          <i class="fa-solid fa-gear me-2"></i> Settings
        </a>

        <button class="btn btn-sm btn-outline-secondary" (click)="toggleDarkMode()">
          <ng-container *ngIf="darkMode; else darkIcon">
            <i class="fa-solid fa-sun me-1"></i> Light Mode
          </ng-container>
          <ng-template #darkIcon>
            <i class="fa-solid fa-moon me-1"></i> Dark Mode
          </ng-template>
        </button>

      </div>
    </div>

    <!-- Main Content Area -->
    <div class="flex-grow-1">
      <!-- Top Navbar for Mobile -->
      <nav class="navbar navbar-light d-lg-none">
        <div class="container-fluid d-flex justify-content-between align-items-center">
          <span class="navbar-brand fw-bold">GRC Dashboard</span>
          <button class="btn" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas">
            <i class="fa-solid fa-bars fs-3"></i>
          </button>
        </div>
      </nav>

      <!-- Main Content from Routed Components -->
      <main>
        <router-outlet></router-outlet>
      </main>
    </div>

    <!-- Offcanvas Sidebar (Small Screens) -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarOffcanvas">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">GRC Dashboard</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body">
        <div class="nav flex-column nav-pills">
          <a routerLink="/dashboard" routerLinkActive="active bg-primary text-white" class="nav-link mb-2"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fa-solid fa-square-poll-vertical me-2"></i> Dashboard
          </a>
          <a routerLink="/risk-overview" routerLinkActive="active bg-primary text-white" class="nav-link mb-2"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fa-solid fa-arrow-trend-up me-2"></i> Risk Overview
          </a>
          <a routerLink="/security-alerts" routerLinkActive="active bg-primary text-white" class="nav-link mb-2"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fa-solid fa-bell me-2"></i> Security Alerts
          </a>
          <a routerLink="/compliance-status" routerLinkActive="active bg-primary text-white" class="nav-link mb-2"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fa-solid fa-wallet me-2"></i> Compliance Status
          </a>
          <a routerLink="/reports" routerLinkActive="active bg-primary text-white" class="nav-link mb-2"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fa-regular fa-file me-2"></i> Reports
          </a>
          <a routerLink="/settings" routerLinkActive="active bg-primary text-white" class="nav-link mb-2"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fa-solid fa-gear me-2"></i> Settings
          </a>

          <button class="btn btn-sm btn-outline-secondary" (click)="toggleDarkMode()">
            <ng-container *ngIf="darkMode; else darkIcon">
              <i class="fa-solid fa-sun me-1"></i> Light Mode
            </ng-container>
            <ng-template #darkIcon>
              <i class="fa-solid fa-moon me-1"></i> Dark Mode
            </ng-template>
          </button>
        </div>
      </div>
    </div>

  </div>
</div>